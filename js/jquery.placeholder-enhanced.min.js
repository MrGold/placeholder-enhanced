// jQuery Placeholder Enhanced 1.4 | by Denis Ciccale @tdecs | under the MIT license
(function(b){var d="placeholder"in document.createElement("input")&&"placeholder"in document.createElement("textarea"),e;d||(e=b.fn.val,b.fn.val=function(){if(this.length)return!arguments.length&&("INPUT"===this[0].nodeName||"TEXTAREA"===this[0].nodeName)?this[0].value===this.attr("placeholder")?"":this[0].value:e.apply(this,arguments)});b.fn.placeholderEnhanced=function(){function e(d){var c={};b.each(d.attributes,function(b,a){if(a.specified&&a.name!=="placeholder"&&a.name!=="name")c[a.name]=a.value});return c}function h(b){b.css({position:"absolute",left:"-9999em"})}if(this.length){var c="placeholder";d||b("form").submit(function(){b(this).find("input[placeholder], textarea[placeholder]").each(function(){if(!b(this).val()&&!this.disabled)this.value=""})});return this.each(function(){function k(){if(a.hasClass(c)){if(!d)f.value="";a.removeClass(c)}}function l(){if(!a.val())if(d)a.addClass(c);else if(i){g.css({position:"",left:""});h(a)}else a.addClass(c).val(j)}if(b.data(this,"placeholderEnhanced")!==true){var f=this,a=b(this),j=a.attr("placeholder"),i=f.type==="password",g;if(!i||d)a.on("focus.placeholder",k);else{g=b("<input>",b.extend(e(f),{type:"text",value:j,tabindex:-1})).addClass(c).on("focus.placeholder",function(){a.trigger("focus.placeholder")}).insertBefore(a);a.on("focus.placeholder",function(){a.css({position:"",left:""});h(g)})}a.on("blur.placeholder",l).trigger("blur.placeholder");b.data(f,"placeholderEnhanced",true)}})}};b(function(){b("input[placeholder], textarea[placeholder]").placeholderEnhanced()})})(jQuery);