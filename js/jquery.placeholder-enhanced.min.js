// jQuery Placeholder Enhanced 1.2 | by Denis Ciccale @tdecs | under the MIT license
(function(b){var d="placeholder"in document.createElement("input")&&"placeholder"in document.createElement("textarea"),f;d||(f=b.fn.val,b.fn.val=function(){if(this.length)return!arguments.length&&("INPUT"===this[0].nodeName||"TEXTAREA"===this[0].nodeName)?this.attr("value")===this.attr("placeholder")?"":this.attr("value"):f.apply(this,arguments)});b.fn.placeholderEnhanced=function(){function f(d){var a={};b.each(d.attributes,function(b,c){if(c.specified&&c.name!=="placeholder"&&c.name!=="name")a[c.name]=c.value});return a}function i(b){b.css({position:"absolute",left:"-9999em"})}if(this.length){var e="placeholder";d||b("form").submit(function(){b(this).find("input[placeholder], textarea[placeholder]").each(function(){if(this.value===this.placeholder)this.value=""})});return this.each(function(){function j(){if(a.hasClass(e)){d||a.val("");a.removeClass(e)}}var a=b(this),g=a.attr("placeholder"),c=this.type==="password",h;if(!c||d)a.bind("focus.placeholder",j);else{h=b("<input>",b.extend(f(this),{type:"text",value:g,tabindex:-1})).addClass(e).bind("focus.placeholder",function(){a.trigger("focus.placeholder")}).insertBefore(a);a.bind("focus.placeholder",function(){a.css({position:"",left:""});i(h)})}a.bind("blur.placeholder",function(){if(!a.val()||a.val()===g)if(d)a.addClass(e);else if(c){h.css({position:"",left:""});i(a)}else a.addClass(e).val(g)}).trigger("blur.placeholder")})}};b(function(){b("input[placeholder], textarea[placeholder]").placeholderEnhanced()})})(jQuery);