// jQuery Placeholder Enhanced 1.4 | by Denis Ciccale @tdecs | under the MIT license
(function(a){var d="placeholder"in document.createElement("input")&&"placeholder"in document.createElement("textarea"),c="placeholder",e;d||(e=a.fn.val,a.fn.val=function(){if(this.length){if(!arguments.length&&("INPUT"===this[0].nodeName||"TEXTAREA"===this[0].nodeName))return this[0].value===this.attr("placeholder")?"":this[0].value;this.hasClass(c)&&this.removeClass(c);return e.apply(this,arguments)}});a.fn.placeholderEnhanced=function(){function e(c){var d={};a.each(c.attributes,function(a,b){b.specified&&("placeholder"!==b.name&&"name"!==b.name)&&(d[b.name]=b.value)});return d}function h(a){a.css({position:"absolute",left:"-9999em"})}if(this.length)return d||a("form").filter(function(){return!a.data(this,"placeholderEnhanced")}).each(function(){a(this).bind("submit.placeholder",function(){a(this).find("input[placeholder], textarea[placeholder]").each(function(){!a(this).val()&&!this.disabled&&(this.value="")})});a.data(this,"placeholderEnhanced",!0)}),this.each(function(){function k(){b.hasClass(c)&&(d||(f.value=""),b.removeClass(c))}function l(){b.val()||(d?b.addClass(c):i?(g.css({position:"",left:""}),h(b)):b.val(j).addClass(c))}if(!0!==a.data(this,"placeholderEnhanced")){var f=this,b=a(this),j=b.attr("placeholder"),i="password"===f.type,g;!i||d?b.bind("focus.placeholder",k):(g=a("<input>",a.extend(e(f),{type:"text",value:j,tabindex:-1})).addClass(c).bind("focus.placeholder",function(){b.trigger("focus.placeholder")}).insertBefore(b),b.bind("focus.placeholder",function(){b.css({position:"",left:""});h(g)}));b.bind("blur.placeholder",l).trigger("blur.placeholder");a.data(f,"placeholderEnhanced",!0)}})};a(function(){a("input[placeholder], textarea[placeholder]").placeholderEnhanced()})})(jQuery);