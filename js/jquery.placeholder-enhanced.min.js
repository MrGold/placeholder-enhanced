// jQuery Placeholder Enhanced 1.1 | by Denis Ciccale @tdecs | under the MIT license
(function(b){var c="placeholder"in document.createElement("input")&&"placeholder"in document.createElement("textarea"),d;c||(d=b.fn.val,b.fn.val=function(){if(this.length)return!arguments.length&&("INPUT"===this[0].nodeName||"TEXTAREA"===this[0].nodeName)?this.attr("value")===this.attr("placeholder")?"":this.attr("value"):d.apply(this,arguments)});b.fn.placeholderEnhanced=function(){if(this.length){var e="placeholder";c||b("form").submit(function(){b(this).find("input[placeholder], textarea[placeholder]").each(function(){if(this.value===this.placeholder)this.value=""})});return this.each(function(){function d(a){a.css({position:"absolute",left:"-9999em"})}function k(){if(a.hasClass(e)){c||a.val("");a.removeClass(e)}}var a=b(this),g=a.attr("placeholder"),h=a.attr("type")==="password",f,i,j;if(!h||c)a.bind("focus.placeholder",k);else{i=this.className?" "+this.className:"";j=this.size?"size="+this.size:"";f=b('<input type="text" class="'+e+i+'" value="'+g+'"'+j+' tabindex="-1" />');f.bind("focus.placeholder",function(){a.trigger("focus.placeholder")});a.before(f).bind("focus.placeholder",function(){a.css({position:"",left:""});d(f)})}a.bind("blur.placeholder",function(){if(!a.val()||a.val()===g)if(c)a.addClass(e);else if(h){f.css({position:"",left:""});d(a)}else a.addClass(e).val(g)}).trigger("blur.placeholder")})}};b(function(){b("input[placeholder], textarea[placeholder]").placeholderEnhanced()})})(jQuery);